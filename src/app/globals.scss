@use "../styles/colors" as *;

@tailwind base;
@tailwind components;
@tailwind utilities;

@import "tailwindcss";
@plugin "daisyui";

/* Emit CSS custom properties for light theme */
:root {
     // core variables
     --background: #{color($palette, background)};
     --foreground: #{color($palette, foreground)};
     --dope: #{color($palette, dope)};
     --font-sans: var(--font-inter, var(--font-geist-sans));
     --font-mono: var(--font-geist-mono);

     // responsive UI tokens (defaults - mobile-first)
     --btn-font-size: 14px;
     --btn-padding: 0.5rem 1rem;
     --jumbotron-logo-width: 40px;

     // palette variables
     @each $k, $v in $palette {
          --#{"#{$k}"}: #{$v};
     }
}

body {
     background: var(--background);
     color: var(--foreground);
     display: flex;
     flex-direction: column;
     justify-content: center;
     // align-items: center;
     max-width: 100vw !important;

     .body-item {
          min-height: 100vh;

          main {
               display: grid;
               grid-template-columns: 1fr;
          }
     }
}

/* Responsive overrides following navbar breakpoints */
@media (min-width: 375px) {
     :root {
          --btn-font-size: 15px;
          --btn-padding: 0.55rem 1.05rem;
          --jumbotron-logo-width: 44px;
     }
}

@media (min-width: 425px) {
     :root {
          --btn-font-size: 15.5px;
          --btn-padding: 0.56rem 1.1rem;
          --jumbotron-logo-width: 46px;
     }
}

@media (min-width: 768px) {
     :root {
          --btn-font-size: 16px;
          --btn-padding: 0.6rem 1.2rem;
          --jumbotron-logo-width: 56px;
     }
}

@media (min-width: 1024px) {
     :root {
          --btn-font-size: 17px;
          --btn-padding: 0.7rem 1.4rem;
          --jumbotron-logo-width: 72px;
     }
}

@media (min-width: 1280px) {
     :root {
          --btn-font-size: 18px;
          --btn-padding: 0.8rem 1.6rem;
          --jumbotron-logo-width: 88px;
     }
}

button {
     cursor: pointer;
     border-radius: 2rem;
     padding: 0.5rem 1rem;
     transition: background-color 0.3s, color 0.3s;
     border: none;

     &.primary {
          background-color: var(--primary);
          color: var(--white);

          &.bordered {
               border: 2px solid var(--primary);
               color: var(--dope);
          }
     }

     &.secondary {
          background-color: var(--secondary);
          color: var(--white);

          &.bordered {
               border: 2px solid var(--secondary);
               background-color: var(--white);
               color: var(--dope);
          }
     }

     &.dark {
          background-color: var(--dark);
          color: var(--white);

          &.bordered {
               border: 2px solid var(--dark);
               background-color: var(--white);
               color: var(--dope);
          }
     }

     &:active {
          transform: scale(0.8);
          transition: ease-in 0.2s;
     }
}

/* MDX Editor Fixes */
.mdx-editor-wrapper {
     /* Ensure wrapper doesn't create stacking context */
     position: relative;
     z-index: auto !important;

     /* List styling */
     [contenteditable="true"],
     [role="textbox"] {
          ul {
               list-style-type: disc !important;
               padding-left: 2.5rem !important;
               margin: 1rem 0 !important;

               li {
                    display: list-item !important;
                    list-style-position: outside !important;
                    margin-bottom: 0.5rem !important;
               }

               ul {
                    list-style-type: circle !important;

                    ul {
                         list-style-type: square !important;
                    }
               }
          }

          ol {
               list-style-type: decimal !important;
               padding-left: 2.5rem !important;
               margin: 1rem 0 !important;

               li {
                    display: list-item !important;
                    list-style-position: outside !important;
                    margin-bottom: 0.5rem !important;
               }
          }
     }
}

/* MDX Editor Dialogs - Nuclear approach for z-index */
/* Target any div that's a direct child of body and might be a portal */
body > div[style*="position"],
body > div[role="dialog"],
body > div[data-floating-ui-portal],
body > div[data-radix-popper-content-wrapper] {
     z-index: 99999 !important;
}

/* Target MDX editor specific dialogs */
div[class*="_dialog"],
div[class*="_linkDialog"],
div[class*="_imageDialog"],
div[class*="mdxeditor"] {
     z-index: 99999 !important;
}
